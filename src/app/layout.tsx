import type { Metadata } from "next";
import "./globals.css";
import { css } from "../../styled-system/css";
import Provider from "../components/provider";
import { getToken } from "next-auth/jwt";
import { NextRequest } from "next/server";

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default async function RootLayout({
  children,
  nextReq,
}: Readonly<{
  children: React.ReactNode;
  nextReq: NextRequest;
}>) {
  const token = await getToken({ req: nextReq, raw: true });
  console.log("layout token", token);
  console.log("jwtSecret", process.env.NEXTAUTH_SECRET);
  console.log("nextauth_url", process.env.NEXTAUTH_URL);
  return (
    <html lang="ja">
      <body
        className={css({
          backgroundColor: "#2c2c2c",
        })}
      >
        <Provider>{children}</Provider>
      </body>
    </html>
  );
}
